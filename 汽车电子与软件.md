# can总线学习笔记

https://aijishu.com/a/1060000000221188

CAN 是 Controller Area Network 的缩写，是 ISO 国际标准化的串行通信协议。通俗来讲，CAN总线就是一种传输数据的线，用于在不同的ECU之间传输数据。

can总线的特点

1. 多主工作方式
2. 非破坏性位仲裁机制
3. 系统的柔性
4. 通信速度
5. 数据传输方式
6. 远程数据传输方式
7. 错误监测
8. 故障封闭	

can通信网络结构

1. OSI基本参照模型
2. can协议网络层次

# 高性能计算软件平台在多域融合下的挑战与实践

https://aijishu.com/a/1060000000223128

特斯拉对于智能汽车行业的变革的影响是巨大的，他不单单是技术的领导者，也是商业模式的先行者，他比较早就在自研软硬件一体。并且让软件可以收License，让很多软件开发者看到自己价值。在汽车行业率先推出SAAS(软件即服务）

在自动驾驶的三大技术模块（感知，规划/决策，控制）中，最复杂和难以预测的是感知模块。智能驾驶的感知领域有五大指标，分别是感知完成功能、性能、可用性、可靠性和可实现性。目前阶段感知技术的重点，已从早期的控制误警率，转变为避免漏识别，最大限度保证驾驶的安全。这就给软件算法、安全架构和传感器提出了挑战。

# [自动驾驶平台](https://aijishu.com/a/1060000000226062)

### **斯拉Autopilot 自动驾驶软件架构**

基于单一Linux 内核，打造了整套自动驾驶的软件方案，分别完成了从感知、决策规划和控制系统解决方案。

### **大众中央集中式软件参考架构**

vw.OS 采用的是基于Adaptive AUTOSAR面向服务的软件架构

### **华为MDC 智能驾驶计算平台架构**

此平台集成华为在ICT 领域30 多年的研发与生产制造经验，基于CPU 与AI 处理器芯片，搭载智能驾驶OS，兼容AUTOSAR，支持L2\~L5 平滑演进，结合配套的完善工具链，客户或生态合作伙伴可灵活快速的开发出针对不同应用场景的智能驾驶应用。

### **英伟达自动驾驶平台架构**

提供完整的硬件平台和基础软件平台Xavier

### **百度Apollo 开放平台架构**

百度Apollo 是一套软件平台，其依赖的计算平台硬件需要采用第三方的IPC，Apollo 开放平台架构



# 汽车bootloader介绍

两个字，烧录https://aijishu.com/a/1060000000224691

- 预编程：主要进行一些环境配置
- 编程：刷写过程
- 刷新完成：恢复配置

# 高性能芯片

https://aijishu.com/a/1060000000225431

芯片是半导体元件产品的统称，又称集成电路（IC, Integrated Circuit）。汽车芯片主要分为三大类：功能芯片（MCU，MicrocontrollerUnit）、功率半导体、传感器。

汽车电子电器架构和整车功能越来越复杂，需要计算能力更强大的硬件来支持越来越复杂的软件功能，随着ADAS、自动驾驶等应用场景的加入及未来域集中甚至中央计算机的E/E架构变更，多核系统的需求将更加明显。

# 车控操作系统现状分析（good）

节选《汽车控制总体技术要求研究报告》

![image-20240119132816321](C:\notreadpaper\image-20240119132816321.png)

车控操作系统分为安全车控操作系统和智能驾驶操作系统，其中，安全车控操作系统主要面向经典车辆控制领域，如动力系统、底盘系统和车身系统等，该类操作系统对实时性和安全性要求极高，生态发展已趋于成熟。智能驾驶操作系统主要面向智能驾驶领域，应用于智能驾驶域控制器，该类操作系统对安全性和可靠性要求较高，同时对性能和运算能力的要求也较高。该类操作系统目前在全世界范围内都处于研究发展的初期，生态尚未完备。车载操作系统主要面向信息娱乐和智能座舱，主要应用于车机中控系统，对于安全性和可靠性的要求处于中等水平，该类操作系统发展迅速，依托于该类操作系统的生态也处于迅速发展时期。

汽车智能化与网联化发展趋势共同推动了汽车电子电气架构的变革，一方面是车内网络拓扑的优化和实时、高速网络的启用，另一方面是电子控制单元（ECU）的功能进一步集成到域控制器甚至车载计算机。汽车电子电气架构的演进趋势为从分布式架构到域集中式架构最后到中央集中式架构转变

![image-20240119133456215](C:\notreadpaper\image-20240119133456215.png)

车控操作系统包括安全车控操作系统和智能驾驶操作系统。安全车控操作系统主要是实时操作系统（RTOS），主要应用对象是ECU。ECU 对安全车控操作系统最基本的要求是高实时性，系统需要在规定时间内完成资源分配、任务同步等指定动作。嵌入式实时操作系统具有高可靠性、实时性、交互性以及多路性的优势，系统响应极高，通常在毫秒或者微秒级别，满足了高实时性的要求。目前，主流的安全车控操作系统都兼容OSEK/VDX 和Classic AUTOSAR 这两类汽车电子软件标准。其中，Classic 平台基于OSEK/VDX 标准，定义了安全车控操作系统的技术规范。

![preview](https://aijishu.com/img/bV6TS)

### 安全车控操作系统
我国主机厂及零配件供应商目前主要使用Classic AUTOSAR 标准进行软件开发。一汽集团、长安集团等主机厂于2009 年开始利用Classic AUTOSAR 标准的工具进行ECU 的设计、开发、验证。同时，上汽集团、一汽集团、长安集团、奇瑞集团等主机厂和部分高校成立了CASA 联盟，旨在中国推广和发展AUTOSAR 架构。

### 智能驾驶操作系统

Adaptive AUTOSAR 系统主要适应于新的集中式的高性能计算平台，满足车内部件之间的高速通信需求和智能驾驶的高计算能力需求。仍存在很多问题，如传统的AUTOSAR 方法论配置繁琐，支持的通信速率低，不支持解耦部署策略和动态升级方案，特别是车车协同、车路协同、车云协同等还一直处于需求讨论阶段，没有支持的时间表。

ROS 作为最早开源的机器人软件中间件，很早就被机器人行业使用，很多知名的机器人开源库，比如基于quaternion 的坐标转换、3D 点云处理驱动、定位算法SLAM 等都是开源贡献者基于ROS 开发的。很多自动驾驶的原型系统中都能够看到 ROS 的身影，例如AUTOWARE，百度 Apollo 最初也是使用了 ROS，直至Apollo 3.5版本才切换至自研的车载中间件Cyber RT。

# CAN总线学习笔记2

在了解CAN总线的通信机制之前，首先需要了解CAN协议中五种类型的帧结构：

- 数据帧
- 遥控帧
- 错误帧
- 过载帧
- 帧间隔